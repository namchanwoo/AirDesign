# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

---

## Project Overview

**AirDesign** - 그리드 기반 턴제 카드 전략 게임 기획 프로젝트

"자동으로 싸우는 유닛들, 전략적으로 개입하는 플레이어"를 핵심 컨셉으로 한 싱글 플레이어 로그라이트 카드덱빌더 게임의 기획 문서 저장소.

### Target Platform & Audience

- **플랫폼**: PC 싱글플레이어
- **타겟**: 미드코어 전략 게임 유저
- **개입 비율**: 자동 전투 50% / 플레이어 개입 50%

---

## Working with This Repository

### 허용된 스킬
- `game-design-assistant` - 게임 기획 관련 작업 시 사용
- `CW_AskUserQuestion` - 요구사항 명확화 시 사용

### 문서 작업 가이드

**새 문서 작성 시:**
1. 해당 카테고리 폴더에 생성 (00_Core ~ 04_World)
2. 문서 상단에 버전, 작성일, 관련 문서 명시
3. 상태 표기 규칙 준수 (✅ 확정됨, ⚠️ [검토 필요] 등)

**기존 문서 수정 시:**
1. 변경 이력에 버전 업데이트 기록
2. 관련 문서 간 참조 버전 확인
3. 확정 사항(Key Design Decisions)과 충돌하지 않는지 확인

**시스템 간 연관 확인:**
- 전투 시스템 변경 → 00_Core/전투_코어루프_기획서.md 동기화 필요
- 캐릭터 능력 변경 → 01_Combat/인텐트_시스템_상세기획서.md 확인

---

## Document Structure

```
AirDesign/
├── Doc/                                      # 기획 문서
│   ├── 00_Core/                              # 전체 통합
│   │   └── 전투_코어루프_기획서.md             # 전투 시스템 통합 문서
│   │
│   ├── 01_Combat/                            # 전투 시스템
│   │   ├── 반그리드_시스템_상세기획서.md        # 그리드/이동/타겟팅 시스템
│   │   ├── 턴_시스템_상세기획서.md             # 턴/모래시계/스피드 시스템
│   │   ├── 인텐트_시스템_상세기획서.md          # 자동 행동 시스템
│   │   └── 카드_시스템_상세기획서.md           # 덱/핸드/카드 메커니즘
│   │
│   ├── 02_Progression/                       # 진행 시스템
│   │   ├── 노드맵_이벤트_시스템_기획서.md       # 이벤트 카테고리/규칙
│   │   └── 노드맵_이벤트_컨텐츠_기획서.md       # 실제 이벤트 콘텐츠
│   │
│   ├── 03_Character/                         # 캐릭터/NPC
│   │   ├── 캐릭터_거대무기소녀_상세기획서.md    # 플레이어블 캐릭터 (에르나)
│   │   └── NPC_조사단원_시스템_상세기획서.md    # NPC/신뢰도 시스템
│   │
│   └── 04_World/                             # 세계관/스토리
│       ├── 세계관_기획서.md                   # 3층 세계, 신들, 검은 재앙
│       └── 시나리오_기획서.md                 # 5장 구조, 4개 엔딩
│
└── Story/                                    # 스토리 원본/초안
    └── *.txt                                 # 장별 스토리 텍스트
```

---

## Core Systems Summary

### 전투 시스템 (01_Combat)
| 시스템 | 핵심 개념 | 관련 문서 |
|--------|----------|----------|
| **반그리드** | 진영 분리 (아군 왼쪽/적 오른쪽), 행=전선, 열=깊이 | 01_Combat/반그리드_시스템_상세기획서.md |
| **턴 시스템** | 글로벌 모래시계(3초) + 개별 턴 카운터 + 스피드 기반 동시발동 | 01_Combat/턴_시스템_상세기획서.md |
| **인텐트** | 유닛 자동 행동 정의 (실행조건 → 실행행동/대기행동), 캐릭터당 최대 3개 | 01_Combat/인텐트_시스템_상세기획서.md |
| **카드** | 파티 공유 덱, 액션/리액션/인챈트 3종, 캐릭터별 AP 시스템 | 01_Combat/카드_시스템_상세기획서.md |

### 세계관 (04_World)
| 시스템 | 핵심 개념 | 관련 문서 |
|--------|----------|----------|
| **세계관** | 3층 세계(외우주/태초의 던전/현실), 아이온(주인공), 루(신), 검은 재앙 | 04_World/세계관_기획서.md |
| **시나리오** | 5장 기승전결, 육성도 기반 4개 엔딩 (격파/봉인/임시/멸망) | 04_World/시나리오_기획서.md |

---

## Key Design Decisions (확정 사항)

### 턴 시스템
- 턴 처리 순서: 버리기 처리 → 드로우 → 카운터 감소 → 인텐트 실행
- 동시 발동 시 스피드 높은 순 처리, 동률 시 아군 우선

### 인텐트 시스템
- 인텐트 전환: 무비용 + 전환 턴 대기 + 다음 턴부터 최대 주기 시작
- 공통 인텐트: 향후 확장 가능성으로 보류

### 카드 시스템
- 파티 공유 단일 덱 (최대 40장)
- 매 턴 1장 드로우, 핸드 최대 5장
- 인챈트 제거 시 100% 비용 소모

### 반그리드 시스템
- 3x3 ~ 4x4 기본, 5x5 특수 이벤트 전용
- 이동은 카드 사용으로만 가능 (기본 제자리 유지)
- 대형 유닛 광역 피격: 유닛당 1회만

### 세계관
- 주인공: 아이온(Aion) - 태초의 신, 권능 "여명(Dawn)"
- 아이온은 스스로 희생을 선택하여 봉인의 핵심이 됨
- 엔딩은 육성도에 따라 결정 (격파/봉인/임시/멸망)

---

## Document Conventions

### 상태 표기
- `✅ 확정됨` - 최종 결정된 사항
- `⚠️ [검토 필요]` - 논의 필요한 사항
- `⚠️ [내용추가예정]` - 추후 작성 예정
- `⚠️ 프로토타입` - 테스트 후 변경 가능

### 버전 관리
- 각 문서 상단에 버전, 작성일, 최종 수정일, 변경 이력 기록
- 관련 문서 간 버전 참조 명시

---

## Reference Games

| 게임 | 참고 요소 |
|------|----------|
| Mega Man Battle Network | 진영 분리 그리드 원조 (3x3 + 3x3) |
| Slay the Spire | 적 인텐트 표시, 덱빌딩, 노드맵 구조 |
| Darkest Dungeon | 스트레스/정신 시스템, 휴식 메커니즘 |
| One Step From Eden | 실시간 그리드 전투, 카드 타이밍 |
| Hades | 로그라이트 + 스토리 중심 구조 |
| Alina of the Arena | 그리드 포지셔닝, 전략적 깊이 |
| Gordian Quest | 파티 기반 덱빌더, 캐릭터 육성 |
| SCP Foundation | 인지재해, 분류 불가, 격리 개념 |
| Cthulhu Mythos | 우주적 공포, 이해 불가능한 존재 |
| Bloodborne | 위대한 존재들, 이질적 존재감 |
